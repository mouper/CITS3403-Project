{% extends "base.html" %}

{% block content %}
<div class="tournament-form-container">
    <div class="tourneyHeader">
        <div class="CreateIconLg"></div>
        <h1 class="title2"> <span>New Tournament</span> </h1>
    </div>
    <div class="form-row">
        <div class="form-group">
            <label class="form-label">Tournament Name</label>
            <div class="TextForm">
                <input type="text" id="tournamentName" placeholder="Enter tournament name">
            </div>
        </div>
        <div class="form-sml">
            <div class="Dropdown">
                <label for="roundTimeLimit" class="form-label">Round Time Limit</label>
                <select id="roundTimeLimit">
                    <option value="" disabled selected>Select</option>
                    <option value="10">10 minutes</option>
                    <option value="15">15 minutes</option>
                    <option value="20">20 minutes</option>
                    <option value="25">25 minutes</option>
                    <option value="30">30 minutes</option>
                    <option value="35">35 minutes</option>
                    <option value="40">40 minutes</option>
                    <option value="45">45 minutes</option>
                    <option value="50">50 minutes</option>
                    <option value="55">55 minutes</option>
                    <option value="60">60 minutes</option>
                </select>
            </div>
        </div>
    </div>

    <div class="form-row">
        <div class="form-group">
            <label class="form-label">Tournament Type</label>
            <div class="Dropdown">
                <select id="tournamentType">
                <option value="" disabled selected>Select</option>
                <option value="round robin">Round Robin</option>
                <option value="swiss">Swiss System</option>
                <option value="single elimination">Single Elimination</option>
                </select>
            </div>
            </div>
        <div class="form-group">
        <label class="form-label">Game</label>
        <div class="Dropdown">
          <select id="gameType">
            <option value="" disabled selected>Select</option>
            <option value="pokemon">Pokemon TCG</option>
            <option value="magic">Magic: The Gathering</option>
            <option value="chess">Chess</option>
            <option value="yugioh">Yu Gi Oh</option>
            <option value="onepiece">One Piece Card Game</option>
            <option value="digimon">Digimon Card Game</option>
            <option value="other">Other</option>
          </select>
        </div>
        </div>
    </div>

    <div class="form-row">
        <div class="form-group">
            <label class="form-label">Number of Competitors</label>
            <div class="Dropdown">
                <select id="competitorCount">
                <option value="" disabled selected>Select</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
                <option value="11">11</option>
                <option value="12">12</option>
                </select>
            </div>
        </div>
        <div class="form-group">
            <label class="form-label">Competitor Details</label>
            <div class="Checkbox">
                <label class="checkbox-option">
                <input type="checkbox" id="isCompetitor" class="checkbox-input">
                <div class="checkbox-icon">
                    <div class="unchecked-icon UncheckBoxIcon"></div>
                    <div class="checked-icon CheckedBoxIcon"></div>
                </div>
                <span class="checkbox-label">I am participating as a competitor of this tournament.</span>
                </label>
            </div>
        </div>
    </div>

    <!-- Player tabs section - hidden by default -->
    <div class="players-container" id="playersContainer">
        <div class="tabs-container">
        <div class="player-tabs" id="playerTabs">
            <!-- Player tabs will be generated here -->
        </div>
        
        <div class="player-content" id="playerContent">
            <!-- Player sections will be generated here -->
        </div>
        </div>
    </div>

    <div class="action-buttons">
        <div class="DiscardBtn" id="discardTournament">
        <div class="DiscardIcon"></div>
        <span>Discard Tournament</span>
        </div>
        
        <div class="SaveBtn">
        <button id="saveTournament">
            <div class="SaveIcon"></div>
            Save Tournament Draft
        </button>
        </div>

        <div class="SendJoinBtn hidden">
            <button id="startTournament">
                <div class="CreateIcon"></div>
                Start Tournament
            </button>
        </div>
    </div>
</div>

<script>
  // Pass Flask variables to JavaScript
  window.currentUserId = "{{ current_user.id }}";
  window.currentUserFirstName = '{{ current_user.first_name }}';
  window.currentUserLastName = '{{ current_user.last_name }}';
  window.currentUserEmail = '{{ current_user.email }}';
  window.currentUserUsername = '{{ current_user.username }}';
</script>
{% endblock %}